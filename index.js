// Generated by CoffeeScript 1.6.3
(function() {
  var WebSocketServer, client, ids, mc, sids, states, wss;

  mc = require('minecraft-protocol');

  WebSocketServer = (require('ws')).Server;

  client = mc.createClient({
    host: 'localhost',
    port: 25565,
    username: 'webuser',
    password: null
  });

  states = mc.protocol.states;

  ids = mc.protocol.packetIDs.play.toClient;

  sids = mc.protocol.packetIDs.play.toServer;

  client.on('packet', function(p) {
    var name;
    return name = mc.protocol.packetNames.play.toClient[p.id];
  });

  client.on('connect', function() {
    return console.log('Successfully connected');
  });

  client.on([states.PLAY, ids.chat], function(p) {});

  client.on([states.PLAY, ids.disconnect], function(p) {
    return console.log("Kicked for " + p.reason);
  });

  wss = new WebSocketServer({
    port: 1234
  });

  wss.on('connection', function(ws) {
    ws.on('message', function(msg) {
      return console.log("websocket received: " + msg);
    });
    return ws.send('hello');
  });

}).call(this);
